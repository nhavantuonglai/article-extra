<button id="scrollon" title="Lên đầu trang"></button>

<script>

	const scrollon = document.getElementById("scrollon");
	const contentElement = document.querySelector(".prose");

	function checkContentVisibility() {
		if (!contentElement) return false;
		
		const contentRect = contentElement.getBoundingClientRect();
		const windowHeight = window.innerHeight;
		
		const isContentVisible = contentRect.top < windowHeight && contentRect.bottom > 0;
		
		const hasScrolledPastContent = contentRect.top < 0;
		const hasNotScrolledPastEnd = contentRect.bottom > 500;
		
		return isContentVisible && hasScrolledPastContent && hasNotScrolledPastEnd;
	}

	window.onscroll = function() {
		if (checkContentVisibility()) {
			scrollon.style.display = "block";
		} else {
			scrollon.style.display = "none";
		}
	};

	window.addEventListener("DOMContentLoaded", function() {
		window.onscroll();
	});

	scrollon.addEventListener("click", function() {
		window.scrollTo({
			top: 0,
			behavior: "smooth"
		});
	});

</script>